<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `sync15` crate."><meta name="keywords" content="rust, rustlang, rust-lang, sync15"><title>sync15 - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../sync15/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../sync15/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate sync15</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></div></ul><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section><div id="sidebar-vars" data-name="sync15" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../sync15/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">sync15</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/sync15/lib.rs.html#5-48">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="changeset/index.html" title="sync15::changeset mod">changeset</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="clients/index.html" title="sync15::clients mod">clients</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="telemetry/index.html" title="sync15::telemetry mod">telemetry</a></div><div class="item-right docblock-short"><p>Note: this mostly just reexports the things from sync15_traits::telemetry.</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BsoRecord.html" title="sync15::BsoRecord struct">BsoRecord</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CollState.html" title="sync15::CollState struct">CollState</a></div><div class="item-right docblock-short"><p>Holds state for a collection. In general, only the CollState is
needed to sync a collection (but a valid GlobalState is needed to obtain
a CollState)</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CollSyncIds.html" title="sync15::CollSyncIds struct">CollSyncIds</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CollectionKeys.html" title="sync15::CollectionKeys struct">CollectionKeys</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CollectionRequest.html" title="sync15::CollectionRequest struct">CollectionRequest</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EncryptedPayload.html" title="sync15::EncryptedPayload struct">EncryptedPayload</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Error.html" title="sync15::Error struct">Error</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.GlobalState.html" title="sync15::GlobalState struct">GlobalState</a></div><div class="item-right docblock-short"><p>Holds global Sync state, including server upload limits, the
last-fetched collection modified times, <code>meta/global</code> record, and
encrypted copies of the crypto/keys resourse (which we hold as encrypted
both to avoid keeping them in memory longer than necessary, and guard against
the wrong (ie, a different user’s) root key being passed in.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.KeyBundle.html" title="sync15::KeyBundle struct">KeyBundle</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MemoryCachedState.html" title="sync15::MemoryCachedState struct">MemoryCachedState</a></div><div class="item-right docblock-short"><p>Info we want callers to engine <em>in memory</em> for us so that subsequent
syncs are faster. This should never be persisted to storage as it holds
sensitive information, such as the sync decryption keys.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Payload.html" title="sync15::Payload struct">Payload</a></div><div class="item-right docblock-short"><p>Represents the decrypted payload in a Bso. Provides a minimal layer of type
safety to avoid double-encrypting.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RecordChangeset.html" title="sync15::RecordChangeset struct">RecordChangeset</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ServerTimestamp.html" title="sync15::ServerTimestamp struct">ServerTimestamp</a></div><div class="item-right docblock-short"><p>Typesafe way to manage server timestamps without accidentally mixing them up with
local ones.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SetupStateMachine.html" title="sync15::SetupStateMachine struct">SetupStateMachine</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Sync15StorageClient.html" title="sync15::Sync15StorageClient struct">Sync15StorageClient</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Sync15StorageClientInit.html" title="sync15::Sync15StorageClientInit struct">Sync15StorageClientInit</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SyncRequestInfo.html" title="sync15::SyncRequestInfo struct">SyncRequestInfo</a></div><div class="item-right docblock-short"><p>This is essentially a bag of information that the sync manager knows, but
otherwise we won’t. It should probably be rethought if it gains many more
fields.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SyncResult.html" title="sync15::SyncResult struct">SyncResult</a></div><div class="item-right docblock-short"><p>The result of a sync request. This too is from the “sync manager”, but only
has a fraction of the things it will have when we actually build that.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DeviceType.html" title="sync15::DeviceType enum">DeviceType</a></div><div class="item-right docblock-short"><p>Enumeration for the different types of device.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.EngineSyncAssociation.html" title="sync15::EngineSyncAssociation enum">EngineSyncAssociation</a></div><div class="item-right docblock-short"><p>Defines how an engine is associated with a particular set of records
on a sync storage server. It’s either disconnected, or believes it is
connected with a specific set of GUIDs. If the server and the engine don’t
agree on the exact GUIDs, the engine will assume something radical happened
so it can’t believe anything it thinks it knows about the state of the
server (ie, it will “reset” then do a full reconcile)</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ErrorKind.html" title="sync15::ErrorKind enum">ErrorKind</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ServiceStatus.html" title="sync15::ServiceStatus enum">ServiceStatus</a></div><div class="item-right docblock-short"><p>The general status of sync - should probably be moved to the “sync manager”
once we have one!</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Sync15ClientResponse.html" title="sync15::Sync15ClientResponse enum">Sync15ClientResponse</a></div><div class="item-right docblock-short"><p>A response from a GET request on a Sync15StorageClient, encapsulating all
the variants users of this client needs to care about.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SyncEngineId.html" title="sync15::SyncEngineId enum">SyncEngineId</a></div><div class="item-right docblock-short"><p>The concrete <code>SyncEngine</code> implementations</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SetupStorageClient.html" title="sync15::SetupStorageClient trait">SetupStorageClient</a></div><div class="item-right docblock-short"><p>A trait containing the methods required to run through the setup state
machine. This is factored out into a separate trait to make mocking
easier.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SyncEngine.html" title="sync15::SyncEngine trait">SyncEngine</a></div><div class="item-right docblock-short"><p>A “sync engine” is a thing that knows how to sync. It’s often implemented
by a “store” (which is the generic term responsible for all storage
associated with a component, including storage required for sync.)</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.extract_v1_state.html" title="sync15::extract_v1_state fn">extract_v1_state</a></div><div class="item-right docblock-short"><p>Given a string persisted as our old GlobalState V1 struct, extract out
the sync IDs for the collection, plus a string which should be used as the
new “global persisted state” (which holds the declined engines).
Returns (None, None) in early error cases (eg, invalid JSON, wrong schema
version etc). Otherwise, you can expect the returned global state to be
Some, even if the CollSyncIds is None (which can happen if the engine is
missing, or flagged for reset)</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.sync_multiple.html" title="sync15::sync_multiple fn">sync_multiple</a></div><div class="item-right docblock-short"><p>Sync multiple engines</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.sync_multiple_with_command_processor.html" title="sync15::sync_multiple_with_command_processor fn">sync_multiple_with_command_processor</a></div><div class="item-right docblock-short"><p>Like <code>sync_multiple</code>, but specifies an optional command processor to handle
commands from the clients collection. This function is called by the sync
manager, which provides its own processor.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.synchronize.html" title="sync15::synchronize fn">synchronize</a></div><div class="item-right docblock-short"></div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.CleartextBso.html" title="sync15::CleartextBso type">CleartextBso</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.EncryptedBso.html" title="sync15::EncryptedBso type">EncryptedBso</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.IncomingChangeset.html" title="sync15::IncomingChangeset type">IncomingChangeset</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.OutgoingChangeset.html" title="sync15::OutgoingChangeset type">OutgoingChangeset</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Result.html" title="sync15::Result type">Result</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="sync15" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>